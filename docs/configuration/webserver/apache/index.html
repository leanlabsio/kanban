<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Kanban documentation | README</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
		<meta name="description" content="Documentation for installation and custumisation gitlab kanban board for issues"/>
		<meta name="keywords" content="gitlab, kanban, gitlab kanban board documentation"/>
		<link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192" href="/images/favicons/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/images/favicons/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png">
		<link rel="manifest" href="/images/favicons/manifest.json">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="/images/favicons/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">
        
        <script src="/js/jquery.min.js"></script>
		<script src="/js/skel.min.js"></script>
		<script src="/js/skel-layers.min.js"></script>
		<script src="/js/init.js"></script>
        
        <link rel="stylesheet" href="/css/github-markdown.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
	</head>

	<body class="docs">
		
			<header id="header">
				<h1><a href="/"><img style="height:50px; margin-top: 15px;" src="/images/logo.png" alt="leanlabs"></a></h1>
				<nav id="nav">
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/enterprise">Enterprise</a></li>
                        <li><a href="/docs">Documentation</a></li>
                        <li><a href="http://blog.leanlabs.io" target="_blank">Blog</a></li>
                        <li><a href="/downloads" class="button disabled"><span class="fa fa-download"></span>&nbsp;Download</a></li>
                    </ul>
				</nav>
			</header>

		
			<section class="wrapper style2">
				<div class="container">
					<div class="row">
						<section id="sidebar" class="feature 3u 12u$(small)">
							<nav>
                                
                                <h4><a name="installation" class="anchor" href="#installation" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="/docs/installation" rel="nofollow">Installation</a></h4>

<ul>
<li><p><a href="/docs/installation/docker" rel="nofollow">With docker</a></p></li>

<li><p><a href="/docs/installation/binary" rel="nofollow">From binary</a></p></li>
</ul>
<h4><a name="configuration" class="anchor" href="#configuration" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a href="/docs/configuration" rel="nofollow">Configuration</a></h4>

<ul>
<li><p><a href="/docs/configuration/webserver" rel="nofollow">Web servers</a></p>

<ul>
<li><p><a href="/docs/configuration/webserver/apache" rel="nofollow">apache</a></p></li>

<li><p><a href="/docs/configuration/webserver/nginx" rel="nofollow">nginx</a></p></li>
</ul></li>
</ul>
<h4><a name="usage" class="anchor" href="#usage" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a href="/docs/usage" rel="nofollow">Usage</a></h4>

<ul>
<li><a href="/docs/usage/customize-columns" rel="nofollow">Customize columns</a></li>
</ul>
<h4><a name="contribute-to-kanban" class="anchor" href="#contribute-to-kanban" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a href="/docs/contributing" rel="nofollow">Contribute to Kanban</a></h4>

                                
							</nav>
						</section>
						<article class="9u 12u$(small)">
						    <section class="markdown-body">
                            <h1><a name="apache-web-server-configuration-guide" class="anchor" href="#apache-web-server-configuration-guide" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apache web server configuration guide</h1>

<p>The configuration files in this directory have been tested with Apache version 2.4.7.</p>

<p>To set up kanban you first need to enable several additional apache modules:</p>

<ul>
<li>proxy_wstunnel (to proxy web sockets)</li>
<li>proxy</li>
<li>proxy_http</li>
</ul>
<h2><a name="common-issues" class="anchor" href="#common-issues" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Common issues</h2>

<p>Internally Kanban uses GitLab API. So misconfiguration of the GitLab web server could lead to potential kanban malfunctions.
Here you will find common issues we faced with GitLab + Apache setup and how to solve them.</p>

<ol>
<li><p>Boards are not showing up.</p>

<p>The symptoms - you can login to kanban, you can see the projects list in kanban, but can not open any board.</p>

<p>First of all check your GitLab apache config contains rewrite rules like this one:</p>

<pre><code>RewriteRule .* http://127.0.0.1:8080%{REQUEST_URI} [P,QSA]
</code></pre>

<p>Note the flags [P,QSA] - these are not enough for GitLab API to work properly, there must be NE flag present, so the proper rule is:</p>

<pre><code>RewriteRule .* http://127.0.0.1:8080%{REQUEST_URI} [NE,P,QSA]
</code></pre>

<p>Also, please check the <a href="https://github.com/gitlabhq/gitlab-recipes/tree/master/web-server/apache" rel="nofollow">gitlab recipes repo</a> for the latest apache configs.</p></li>

<li><p>Kanban reloads in a loop.</p>

<p>The symptoms - you can login to kanban, but then the browser keep reloading the page.</p>

<p>This could be caused by websockets proxy misconfiguration. Kanban listens for websocket connections on /ws/ location,
so it should be proxied properly and there must be Host, Connection and Upgrade headers present.</p></li>

<li><p>Config example</p>

<pre><code class="apache">&lt;VirtualHost *:80&gt;
    ProxyPreserveHost On


    &lt;Location /&gt;
            ProxyPass http://127.0.0.1:9000/
            ProxyPassReverse http://127.0.0.1:9000/
    &lt;/Location&gt;


    &lt;Location /ws/&gt;
        ProxyPass ws://127.0.0.1:9000/ws/
        ProxyPassReverse ws://127.0.0.1:9000/ws/
    &lt;/Location&gt;
&lt;/VirtualHost&gt;
</code></pre>

<p><a href="https://github.com/leanlabsio/kanban/blob/master/docs/configuration/webserver/apache/apache.conf" rel="nofollow">view on github</a></p></li>
</ol>

                            </section>
                            <footer style="margin-top: 40px;" class="align-center">
                                <ul class="actions">
                                    <li>
                                        <a href="http://demo.kanban.leanlabs.io" target="_blank" class="button alt big">Try demo</a>
                                    </li>
                                </ul>
                            </footer>
						</section>
					</div>
				</div>
			</section>

        <footer id="footer">
            <div class="container">
                <div class="row">
                    <section class="4u 6u(medium) 12u$(small)">
                        <h3>Documentation</h3>
                        <ul class="alt">
                            <li><a href="/docs/installation">Installation</a></li>
                            <li><a href="/docs/configuration">Configuration</a></li>
                            <li><a href="/docs/usage">Usage</a></li>
                        </ul>
                    </section>
                    <section class="4u 6u$(medium) 12u$(small)">
                        <h3>Repositories</h3>
                        <ul class="alt">
                            <li><a target="_blank" href="https://gitlab.com/leanlabsio/kanban">Project on GitLab</a></li>
                            <li><a target="_blank" href="https://github.com/leanlabsio/kanban">Project on GitHub</a></li>
                            <li><a target="_blank" href="https://hub.docker.com/r/leanlabs/kanban/">Project on Docker Hub</a></li>
                        </ul>
                    </section>
                    <section class="4u$ 12u$(medium) 12u$(small)">
                        <h3>Any questions?</h3>
                        <ul class="alt">
                            <li><a target="_blank" href="https://twitter.com/leanlabsio">Twitter</a></li>
                            <li><a href="https://gitter.im/leanlabsio/kanban" target="_blank">Gitter chat room</a></li>
                            <li><a href="mailto:support@leanlabs.io">support@leanlabs.io</a></li>
                        </ul>
                    </section>
                </div>
                <ul class="copyright">
                    <li>&copy; Leanlabs. All rights reserved.</li>
                </ul>
            </div>
        </footer>

					
		<script type="text/javascript">
		(function (d, w, c) {
            (w[c] = w[c] || []).push(function () {
                try {
                    w.yaCounter28745811 = new Ya.Metrika({
                        id: 28745811,
                        webvisor: true,
                        clickmap: true,
                        trackLinks: true,
                        accurateTrackBounce: true
                    });
                } catch (e) {
                }
            });

            var n = d.getElementsByTagName("script")[0],
                    s = d.createElement("script"),
                    f = function () {
                        n.parentNode.insertBefore(s, n);
                    };
            s.type = "text/javascript";
            s.async = true;
            s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else {
                f();
            }
        })(document, window, "yandex_metrika_callbacks");
		</script>
		<noscript><div><img src="//mc.yandex.ru/watch/28745811" style="position:absolute; left:-9999px;" alt=""/></div></noscript>
		

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60280085-1', 'auto');
          ga('send', 'pageview');

        </script>

	</body>
</html>

